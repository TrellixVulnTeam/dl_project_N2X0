# 新闻文本分类

## 长文本样本量
train=
{
    "科技": 35000,
    "游戏": 17061,
    "体育": 35000,
    "星座": 2504,
    "时政": 35000,
    "教育": 29355,
    "时尚": 9357,
    "彩票": 5311,
    "家居": 22810,
    "房产": 14035,
    "股票": 35000,
    "娱乐": 35000,
    "社会": 35000,
    "财经": 25968
}

eval=
{
    "科技": 10000,
    "游戏": 4874,
    "体育": 10000,
    "星座": 716,
    "时政": 10000,
    "教育": 8387,
    "时尚": 2674,
    "彩票": 1518,
    "家居": 6517,
    "房产": 4010,
    "股票": 10000,
    "娱乐": 10000,
    "社会": 10000,
    "财经": 7420
}

test=
{
    "科技": 5000,
    "游戏": 2438,
    "体育": 5000,
    "星座": 358,
    "时政": 5000,
    "教育": 4194,
    "时尚": 1337,
    "彩票": 759,
    "家居": 3259,
    "房产": 2005,
    "股票": 5000,
    "娱乐": 5000,
    "社会": 5000,
    "财经": 3710
}

## 短文本样本量(新闻标题)
类别：财经、房产、股票、教育、科技、社会、时政、体育、游戏、娱乐。

数据集划分：

数据集	数据量
训练集	18万
验证集	1万
测试集	1万



## baseline
-------------------------------------------------jieba分词
***************************** fattext *********************

模型最优参数：
训练参数：{
    "input": "/data/work/dl_project/data/corpus/thuc_news/train.txt",
    "label": "__label__",
    "epoch": 100,
    "lr": 0.08,
    "lrUpdateRate": 100,
    "minn": 2,
    "maxn": 4,
    "loss": "hs",
    "minCount": 3,
    "wordNgrams": 4,
    "bucket": 2000
}

训练时间:

训练集准确率：
样本数N	336401
精确率P	0.921
召回率R	0.921

验证集准确率：
样本数N	96116
精确率P	0.908
召回率R	0.908

测试集准确率:
样本数N	48060
精确率P	0.905
召回率R	0.905



-------------------------------------------------单字符
***************************** fattext *********************

模型最优参数:

训练参数：{
    "input": "/data/work/dl_project/data/corpus/thuc_news/single_char.train.txt",
    "label": "__label__",
    "epoch": 100,
    "lr": 0.08,
    "lrUpdateRate": 100,
    "minn": 2,
    "maxn": 5,
    "loss": "hs",
    "minCount": 3,
    "wordNgrams": 4,
    "bucket": 2000
}

训练时间: 3h

训练集准确率：
样本数N	336400
精确率P	0.894
召回率R	0.894

验证集准确率：
样本数N	96116
精确率P	0.888
召回率R	0.888

测试集准确率:
样本数N	48060
精确率P	0.883
召回率R	0.883


***************************** textcnn *********************

train的整体性能:

----模型整体 ----
acc_score:	0.9505530601870982
recall:	0.9519643063698664
f1_score:	0.9541043084622384

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.94      0.92      0.93     25968
          彩票       0.96      0.96      0.96      5311
          房产       0.97      0.92      0.94     14035
          股票       0.94      0.94      0.94     35000
          家居       0.95      0.97      0.96     22810
          教育       0.97      0.95      0.96     29355
          科技       0.94      0.93      0.93     35000
          社会       0.93      0.92      0.93     35000
          时尚       0.99      0.94      0.96      9357
          时政       0.92      0.96      0.94     35000
          体育       0.99      0.99      0.99     35000
          星座       0.99      0.98      0.98      2504
          游戏       0.95      0.97      0.96     17061
          娱乐       0.96      0.98      0.97     35000

    accuracy                           0.95    336401
   macro avg       0.96      0.95      0.95    336401
weighted avg       0.95      0.95      0.95    336401


eval的整体性能:

----模型整体 ----
acc_score:	0.9375754296891257
recall:	0.9387079213615092
f1_score:	0.9412171636258496

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.93      0.90      0.92      7420
          彩票       0.95      0.95      0.95      1518
          房产       0.96      0.91      0.93      4010
          股票       0.92      0.93      0.92     10000
          家居       0.92      0.96      0.94      6517
          教育       0.96      0.94      0.95      8387
          科技       0.93      0.91      0.92     10000
          社会       0.91      0.90      0.91     10000
          时尚       0.97      0.91      0.94      2674
          时政       0.91      0.95      0.93     10000
          体育       0.99      0.98      0.98     10000
          星座       0.98      0.97      0.98       716
          游戏       0.95      0.95      0.95      4874
          娱乐       0.95      0.97      0.96     10000

    accuracy                           0.94     96116
   macro avg       0.94      0.94      0.94     96116
weighted avg       0.94      0.94      0.94     96116



test的整体性能:

----模型整体 ----
acc_score:	0.9367665418227216
recall:	0.9378700447571312
f1_score:	0.9407148145579879

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.93      0.90      0.91      3710
          彩票       0.96      0.94      0.95       759
          房产       0.96      0.90      0.93      2005
          股票       0.92      0.92      0.92      5000
          家居       0.92      0.96      0.94      3259
          教育       0.96      0.94      0.95      4194
          科技       0.93      0.91      0.92      5000
          社会       0.90      0.91      0.90      5000
          时尚       0.98      0.91      0.94      1337
          时政       0.91      0.95      0.93      5000
          体育       0.98      0.98      0.98      5000
          星座       0.98      0.98      0.98       358
          游戏       0.94      0.97      0.95      2438
          娱乐       0.95      0.97      0.96      5000

    accuracy                           0.94     48060
   macro avg       0.94      0.94      0.94     48060
weighted avg       0.94      0.94      0.94     48060


***************************** bert **************************

train的整体性能:

----模型整体 ----
acc_score:	0.941385429888734
recall:	0.942356389804906
f1_score:	0.9442734249921091
train的详细结果:

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.95      0.91      0.93     25968
          彩票       0.97      0.94      0.95      5311
          房产       0.92      0.89      0.91     14035
          股票       0.93      0.93      0.93     35000
          家居       0.96      0.93      0.94     22810
          教育       0.96      0.96      0.96     29355
          科技       0.90      0.94      0.92     35000
          社会       0.95      0.90      0.92     35000
          时尚       0.97      0.95      0.96      9357
          时政       0.90      0.96      0.93     35000
          体育       0.97      0.99      0.98     35000
          星座       0.97      0.98      0.97      2504
          游戏       0.95      0.96      0.96     17061
          娱乐       0.97      0.95      0.96     35000

    accuracy                           0.94    336401
   macro avg       0.95      0.94      0.94    336401
weighted avg       0.94      0.94      0.94    336401

eval的整体性能:

----模型整体 ----
acc_score:	0.9653647675725165
recall:	0.966289549628104
f1_score:	0.9683362858821546
eval的详细结果:

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.97      0.94      0.95      7420
          彩票       0.99      0.96      0.97      1518
          房产       0.96      0.93      0.95      4010
          股票       0.95      0.96      0.96     10000
          家居       0.98      0.97      0.98      6517
          教育       0.98      0.98      0.98      8387
          科技       0.94      0.97      0.95     10000
          社会       0.97      0.93      0.95     10000
          时尚       0.99      0.98      0.98      2674
          时政       0.93      0.98      0.95     10000
          体育       0.98      0.99      0.99     10000
          星座       0.99      0.99      0.99       716
          游戏       0.97      0.97      0.97      4874
          娱乐       0.99      0.98      0.98     10000

    accuracy                           0.97     96116
   macro avg       0.97      0.97      0.97     96116
weighted avg       0.97      0.97      0.97     96116

test的整体性能:

----模型整体 ----
acc_score:	0.9425093632958802
recall:	0.9433466571892769
f1_score:	0.9448725738634604
test的详细结果:

----结果报告 ---:
              precision    recall  f1-score   support

          财经       0.94      0.91      0.92      3710
          彩票       0.97      0.92      0.95       759
          房产       0.92      0.90      0.91      2005
          股票       0.93      0.93      0.93      5000
          家居       0.96      0.93      0.94      3259
          教育       0.96      0.96      0.96      4194
          科技       0.91      0.94      0.92      5000
          社会       0.95      0.90      0.92      5000
          时尚       0.97      0.95      0.96      1337
          时政       0.90      0.96      0.93      5000
          体育       0.97      0.99      0.98      5000
          星座       0.96      0.99      0.97       358
          游戏       0.95      0.97      0.96      2438
          娱乐       0.97      0.95      0.96      5000

    accuracy                           0.94     48060
   macro avg       0.95      0.94      0.94     48060
weighted avg       0.94      0.94      0.94     48060
